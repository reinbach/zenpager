{"version":3,"sources":["auth.jsx","validation.jsx","utils.jsx","dashboard.jsx","profile.jsx","settings.jsx","settings_contacts.jsx","main.jsx"],"names":["authenticate","email","password","cb","r","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","data","JSON","parse","responseText","Result","authenticated","token","getResponseHeader","id","ID","errors","Messages","send","stringify","logout","console","log","passwordValid","length","validateEmail","re","test","request","get","url","auth","getToken","status","post","rdata","patch","AuthenticationMixin","statics","willTransitionTo","transition","nextPath","path","loggedIn","redirect","Login","React","createClass","displayName","contextTypes","router","PropTypes","func","isRequired","getInitialState","getDefaultProps","messages","validationEmailState","this","state","validationPasswordState","handleChange","setState","refs","getValue","handleSubmit","event","preventDefault","$__0","context","getCurrentQuery","login","replaceWith","bind","render","msgs","props","forEach","msg","push","createElement","type","Type","message","Content","className","onSubmit","Input","label","ref","placeholder","value","autoFocus","hasFeedback","bsStyle","onChange","Button","Logout","componentDidMount","arguments","localStorage","undefined","res","DashboardHolder","mixins","Link","to","RouteHandler","DashboardOverview","DashboardServers","DashboardApps","ProfileHolder","ProfilePassword","password_confirm","validationPasswordConfirmState","user","updatePassword","success","callback","processPatch","SettingsHolder","SettingsCommands","SettingsServers","SettingsTimePeriods","contacts","init","$","addClass","close","removeClass","processGet","add","name","processAdd","SettingsContactsMixin","componentWillUnmount","SettingsContactsHolder","SettingsContacts","propTypes","array","SettingsContactsAdd","validateNameState","validateEmailState","Router","ReactRouter","Route","DefaultRoute","Redirect","NotFoundRoute","ReactBootstrap","App","setStateOnAuth","componentWillMount","Navbar","Nav","NavItem","accessLink","href","brand","fixedTop","fluid","inverse","right","visible","handleDismiss","Alert","onDismiss","NotFound","routes","handler","from","run","Handler","document","body"],"mappings":"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","file":"dashboard.min.js","sourcesContent":["var AuthenticationMixin = {\n    statics: {\n        willTransitionTo: function(transition) {\n            var nextPath = transition.path;\n            if (!auth.loggedIn()) {\n                transition.redirect(\"/login\", {}, {\"nextPath\": nextPath});\n            }\n        }\n    }\n};\n\nvar Login = React.createClass({\n    contextTypes: {\n        router: React.PropTypes.func.isRequired\n    },\n    getInitialState: function() {\n        return {\n            email: '',\n            password: ''\n        };\n    },\n    getDefaultProps: function() {\n        return {\n            messages: []\n        }\n    },\n    validationEmailState: function() {\n        if (this.state.email.length > 0) {\n            if (validateEmail(this.state.email) === true) {\n                return \"success\";\n            }\n            return \"error\"\n        }\n    },\n    validationPasswordState: function() {\n        if (this.state.password.length > 0) {\n            if (passwordValid(this.state.password)) {\n                return \"success\";\n            }\n            return \"error\";\n        }\n    },\n    handleChange: function() {\n        this.setState({\n            email: this.refs.email.getValue(),\n            password: this.refs.password.getValue()\n        });\n    },\n    handleSubmit: function(event) {\n        event.preventDefault();\n        var { router } = this.context;\n        var nextPath = router.getCurrentQuery().nextPath;\n        // Prevent form being submitted till elements are in valid state\n        auth.login(this.state.email, this.state.password, function(loggedIn) {\n            if (nextPath) {\n                router.replaceWith(nextPath);\n            } else {\n                router.replaceWith(\"/\");\n            }\n        }.bind(this));\n    },\n    render: function() {\n        var msgs = [];\n        this.props.messages.forEach(function(msg) {\n            msgs.push(<Messages type={msg.Type} message={msg.Content} />);\n        });\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-md-3 col-md-offset-5 main\">\n                        {msgs}\n                        <h1 className=\"page-header\">Sign In</h1>\n                        <form onSubmit={this.handleSubmit} className=\"text-left\">\n                            <Input label=\"Email Address\" type=\"email\" ref=\"email\"\n                                   placeholder=\"Enter email\" value={this.state.email}\n                                   autoFocus hasFeedback bsStyle={this.validationEmailState()}\n                                   onChange={this.handleChange} />\n                            <Input label=\"Password\" type=\"password\" ref=\"password\"\n                                   placeholder=\"Password\" value={this.state.password}\n                                   hasFeedback bsStyle={this.validationPasswordState()}\n                                   onChange={this.handleChange} />\n                            <Button type=\"submit\" bsStyle=\"success\">\n                                Sign In\n                            </Button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar Logout = React.createClass({\n    componentDidMount: function() {\n        auth.logout();\n    },\n    render: function() {\n        return (\n            <div className=\"col-md-3 col-md-offset-3\">\n                <h1>Signed Out</h1>\n                <p>You are now signed out!</p>\n            </div>\n        );\n    }\n});\n\nvar auth = {\n    login: function(email, password, cb) {\n        cb = arguments[arguments.length - 1];\n        if (localStorage.token) {\n            if (cb) cb(true);\n            this.onChange(true);\n            return ;\n        }\n        if (email === undefined || password == undefined) {\n            if (cb) cb(false);\n            return ;\n        }\n        authenticate(email, password, function(res) {\n            if (res.authenticated) {\n                localStorage.token = res.token;\n                localStorage.id = res.id;\n                if (cb) cb(true);\n                this.onChange(true, res.errors);\n            } else {\n                if (cb) cb(false);\n                this.onChange(false, res.errors);\n            }\n        }.bind(this));\n    },\n    getToken: function() {\n        return localStorage.token;\n    },\n    logout: function(cb) {\n        logout(localStorage.token);\n        delete localStorage.token;\n        if (cb) cb(false);\n        this.onChange(false);\n    },\n    loggedIn: function() {\n        return !!localStorage.token;\n    },\n    onChange: function() {}\n};\n\nfunction authenticate(email, password, cb) {\n    var r = new XMLHttpRequest();\n    r.open(\"POST\", \"/api/v1/auth/login\", true);\n    r.setRequestHeader(\"Content-Type\", \"application/json\");\n    r.onreadystatechange = function() {\n        if (r.readyState === 4) {\n            data = JSON.parse(r.responseText);\n            if (data.Result === \"success\") {\n                cb({\n                    authenticated: true,\n                    token: r.getResponseHeader(\"X-Access-Token\"),\n                    id: data.ID\n                });\n            } else {\n                cb({\n                    authenticated: false,\n                    errors: data.Messages\n                });\n            }\n        }\n    };\n    r.send(JSON.stringify({email: email, password: password}));\n}\n\nfunction logout(token) {\n    var r = new XMLHttpRequest();\n    r.open(\"GET\", \"/api/v1/auth/logout\", true);\n    r.setRequestHeader(\"Content-Type\", \"application/json\");\n    r.setRequestHeader(\"X-Access-Token\", token);\n    r.onreadystatechange = function() {\n        if (r.readyState === 4) {\n            data = JSON.parse(r.responseText);\n            if (data.Result === \"success\") {\n                console.log(\"successfully logged out\");\n            } else {\n                console.log(\"failed to logout!\");\n            }\n        }\n    };\n    r.send();\n}\n","function passwordValid(password) {\n    if (password.length >= 8) {\n        return true;\n    }\n    return false;\n}\n\nfunction validateEmail(email) {\n    var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n","var request = {\n    get: function(url, cb) {\n        var r = new XMLHttpRequest();\n        r.open(\"GET\", url, true);\n        r.setRequestHeader(\"Content-Type\", \"application/json\");\n        r.setRequestHeader(\"X-Access-Token\", auth.getToken());\n        r.onreadystatechange = function() {\n            if (r.readyState === 4) {\n                if (r.status == 401) {\n                    auth.logout();\n                } else {\n                    data = JSON.parse(r.responseText);\n                    if (cb) {\n                        cb(data);\n                    }\n                }\n            }\n        };\n        r.send();\n    },\n    post: function(url, data, cb) {\n        var r = new XMLHttpRequest();\n        r.open(\"POST\", url, true);\n        r.setRequestHeader(\"Content-Type\", \"application/json\");\n        r.setRequestHeader(\"X-Access-Token\", auth.getToken());\n        r.onreadystatechange = function() {\n            if (r.readyState === 4) {\n                if (r.status == 401) {\n                    auth.logout();\n                } else {\n                    rdata = JSON.parse(r.responseText);\n                    if (cb) {\n                        cb(rdata);\n                    }\n                }\n            }\n        };\n        r.send(JSON.stringify(data));\n    },\n    patch: function(url, data, cb) {\n        var r = new XMLHttpRequest();\n        r.open(\"PATCH\", url, true);\n        r.setRequestHeader(\"Content-Type\", \"application/json\");\n        r.setRequestHeader(\"X-Access-Token\", auth.getToken());\n        r.onreadystatechange = function() {\n            if (r.readyState === 4) {\n                if (r.status == 401) {\n                    auth.logout();\n                } else {\n                    rdata = JSON.parse(r.responseText);\n                    if (cb) {\n                        cb(rdata);\n                    }\n                }\n            }\n        };\n        r.send(JSON.stringify(data));\n    }\n}\n","var DashboardHolder = React.createClass({\n    mixins: [AuthenticationMixin],\n    getInitialState: function() {\n        return {\n            messages: []\n        };\n    },\n    render: function() {\n        var msgs = [];\n        this.state.messages.forEach(function(msg) {\n            msgs.push(<Messages type=\"error\" message={msg} />);\n        });\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-sm-3 col-md-2 sidebar\">\n                        <ul className=\"nav nav-sidebar\">\n                            <li><Link to=\"d_overview\">Overview</Link></li>\n                            <li><Link to=\"d_servers\">Servers</Link></li>\n                            <li><Link to=\"d_apps\">Applications</Link></li>\n                        </ul>\n                    </div>\n                    <div className=\"col-sm-9 col-sm-offset-3 col-md-10\n                                    col-md-offset-2 main\">\n                        {msgs}\n                        <RouteHandler />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar DashboardOverview = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div>\n                Dashboard Overview...\n            </div>\n        );\n    }\n});\n\nvar DashboardServers = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div>\n                Dashboard Servers...\n            </div>\n        );\n    }\n});\n\nvar DashboardApps = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div>\n                Dashboard Apps...\n            </div>\n        );\n    }\n});\n","var ProfileHolder = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-sm-3 col-md-2 sidebar\">\n                        <h1>Profile</h1>\n                        <ul className=\"nav nav-sidebar\">\n                            <li><Link to=\"p_password\">Password</Link></li>\n                        </ul>\n                    </div>\n                    <div className=\"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main\">\n                        <RouteHandler />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar ProfilePassword = React.createClass({\n    mixins: [AuthenticationMixin],\n    getInitialState: function() {\n        return {\n            password: '',\n            password_confirm: '',\n            messages: []\n        };\n    },\n    validationPasswordState: function() {\n        if (this.state.password.length > 0) {\n            if (passwordValid(this.state.password)) {\n                return \"success\";\n            }\n            return \"error\";\n        }\n    },\n    validationPasswordConfirmState: function() {\n        if (this.state.password_confirm.length > 0 || this.state.password.length > 0) {\n            if (this.state.password_confirm === this.state.password) {\n                return \"success\";\n            }\n            return \"error\";\n        }\n    },\n    handleChange: function() {\n        this.setState({\n            password: this.refs.password.getValue(),\n            password_confirm: this.refs.password_confirm.getValue()\n        });\n    },\n    handleSubmit: function(event) {\n        event.preventDefault();\n        if (this.state.password.length < 1) {\n            this.setState({\"messages\": [{Type: \"danger\", Content: \"Password is required.\"}]});\n            return ;\n        }\n        if (this.validationPasswordState() !== \"success\" || this.validationPasswordConfirmState() !== \"success\") {\n            this.setState({\"messages\": [{Type: \"danger\", Content: \"Fix errors\"}]});\n            return ;\n        }\n        user.updatePassword(this.state.password, function(success, messages) {\n            if (success === true) {\n                this.setState({messages: messages, password: \"\", password_confirm: \"\"});\n            } else {\n                this.setState({\n                    messages: messages,\n                    password: this.state.password,\n                    password_confirm: this.state.password_confirm\n                });\n                console.log(this.state.messages);\n            }\n        }.bind(this));\n    },\n    render: function() {\n        var msgs = [];\n        this.state.messages.forEach(function(msg) {\n            msgs.push(<Messages type={msg.Type} message={msg.Content} />);\n        });\n        return (\n            <div className=\"col-md-3\">\n                <form onSubmit={this.handleSubmit} className=\"text-left\">\n                    <h1 className=\"page-header\">Reset Password</h1>\n                    {msgs}\n                    <Input label=\"New Password\" type=\"password\" ref=\"password\"\n                           placeholder=\"New password\" value={this.state.password}\n                           autoFocus hasFeedback bsStyle={this.validationPasswordState()}\n                           onChange={this.handleChange} />\n                    <Input label=\"Confirm Password\" type=\"password\" ref=\"password_confirm\"\n                           placeholder=\"Confirm Password\" value={this.state.password_confirm}\n                           hasFeedback bsStyle={this.validationPasswordConfirmState()}\n                           onChange={this.handleChange} />\n                    <Button type=\"submit\" bsStyle=\"success\">\n                        Update Password\n                    </Button>\n                </form>\n            </div>\n        );\n    }\n});\n\nvar user = {\n    updatePassword: function(password, cb) {\n        callback = cb;\n        if (!localStorage.id) {\n            if (callback) callback(false);\n            return ;\n        }\n        if (password.length < 1) {\n            if (callback) callback(false, [\"Password is required.\"]);\n            return ;\n        }\n        request.patch(\n            \"/api/v1/user/\" + localStorage.id,\n            {password: password},\n            this.processPatch\n        )\n    },\n    processPatch: function(res) {\n        if (res.Result == \"success\") {\n            if (callback) callback(true, [{\n                Type: \"success\",\n                Content: \"Successfully updated password.\"\n            }]);\n        } else {\n            if (callback) callback(false, res.errors);\n        }\n    }\n};\n","var SettingsHolder = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-sm-3 col-md-2 sidebar\">\n                        <h1>Settings</h1>\n                        <ul className=\"nav nav-sidebar\">\n                            <li><Link to=\"s_commands\">Commands</Link></li>\n                            <li><Link to=\"s_contacts_list\" className=\"contacts-link\">Contacts</Link></li>\n                            <li><Link to=\"s_servers\">Servers</Link></li>\n                            <li>\n                                <Link to=\"s_timeperiods\">Time Periods</Link>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"col-sm-9 col-sm-offset-3 col-md-10\n                                    col-md-offset-2 main\">\n                        {/*<Messages type=\"success\" message=\"Hello World\" />*/}\n                        <RouteHandler />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar SettingsCommands = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div>\n                Settings Commands...\n            </div>\n        );\n    }\n});\n\nvar SettingsServers = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div>\n                Settings Servers...\n            </div>\n        );\n    }\n});\n\nvar SettingsTimePeriods = React.createClass({\n    mixins: [AuthenticationMixin],\n    render: function() {\n        return (\n            <div>\n                Settings Time Periods...\n            </div>\n        );\n    }\n});\n","var contacts = {\n    init: function() {\n        $(\".contacts-link\").addClass(\"active\");\n    },\n    close: function() {\n        $(\".contacts-link\").removeClass(\"active\");\n    },\n    get: function(cb) {\n        callback = cb;\n        request.get(\"/api/v1/contacts/\", this.processGet);\n    },\n    processGet: function(data) {\n        if (data.Result === \"success\") {\n            callback({data: data});\n        } else {\n            callback({data: [], errors: data.Messages});\n        }\n    },\n    add: function(name, email, cb) {\n        callback = cb;\n        request.post(\n            \"/api/v1/contacts/\",\n            {name: name, email: email},\n            this.processAdd\n        );\n    },\n    processAdd: function(res) {\n        if (res.Result == \"success\") {\n            if (callback) callback(true, [{\n                Type: \"success\",\n                Content: \"Successfully added contact.\"\n            }]);\n        } else {\n            if (callback) callback(false, res.Messages);\n        }\n    }\n}\n\nvar SettingsContactsMixin = {\n    componentDidMount: function() {\n        contacts.init();\n    },\n    componentWillUnmount: function() {\n        contacts.close();\n    }\n};\n\nvar SettingsContactsHolder = React.createClass({\n    mixins: [AuthenticationMixin, SettingsContactsMixin],\n    render: function() {\n        return (\n            <div>\n                <h1 className=\"page-header\">Contacts</h1>\n                <RouteHandler />\n            </div>\n        );\n    }\n});\n\nvar SettingsContacts = React.createClass({\n    mixins: [AuthenticationMixin, SettingsContactsMixin],\n    propTypes: {\n        contacts: React.PropTypes.array,\n        messages: React.PropTypes.array\n    },\n    getDefaultProps: function() {\n        contacts.get(function(data, messages) {\n            return {\n                contacts: data,\n                messages: messages\n            };\n        });\n    },\n    render: function() {\n        return (\n            <div>\n                <Link to=\"s_contacts_add\" className=\"btn btn-primary\">Add Contact</Link>\n                <p>Settings Contacts... we need more</p>\n            </div>\n        );\n    }\n});\n\nvar SettingsContactsAdd = React.createClass({\n    mixins: [AuthenticationMixin, SettingsContactsMixin],\n    getInitialState: function() {\n        return {\n            \"name\": \"\",\n            \"email\": \"\",\n            \"messages\": []\n        }\n    },\n    validateNameState: function() {\n        if (this.state.name.length > 0) {\n            if (this.state.name.length > 2) {\n                return \"success\";\n            }\n            return \"error\"\n        }\n    },\n    validateEmailState: function() {\n        if (this.state.email.length > 0) {\n            if (validateEmail(this.state.email) === true) {\n                return \"success\";\n            }\n            return \"error\"\n        }\n    },\n    handleChange: function() {\n        this.setState({\n            name: this.refs.name.getValue(),\n            email: this.refs.email.getValue()\n        });\n    },\n    handleSubmit: function() {\n        event.preventDefault();\n        if (this.state.name.length < 1) {\n            this.setState({\"messages\": [{Type: \"danger\", Content: \"Name is required.\"}]});\n            return ;\n        }\n        if (this.state.email.length < 1) {\n            this.setState({\"messages\": [{Type: \"danger\", Content: \"Email is required.\"}]});\n            return ;\n        }\n        if (this.validateNameState() !== \"success\" || this.validateEmailState() !== \"success\") {\n            this.setState({\"messages\": [{Type: \"danger\", Content: \"Fix errors\"}]});\n            return ;\n        }\n        contacts.add(this.state.name, this.state.email, function(success, messages) {\n            if (success == true) {\n                this.setState({messages: messages, name: \"\", email: \"\"});\n            } else {\n                this.setState({\n                    messages: messages,\n                    name: this.state.name,\n                    email: this.state.email\n                });\n                console.log(this.state.messages);\n            }\n        }.bind(this));\n    },\n    render: function() {\n        var msgs = [];\n        this.state.messages.forEach(function(msg) {\n            msgs.push(<Messages type={msg.Type} message={msg.Content} />);\n        });\n        return (\n            <div className=\"col-md-4\">\n                <form onSubmit={this.handleSubmit} className=\"text-left\">\n                    <h2 className=\"page-header\">Add Contact</h2>\n                    {msgs}\n                    <Input label=\"Name\" type=\"text\" ref=\"name\"\n                           placeholder=\"Jane Smart\" value={this.state.name}\n                           autoFocus hasFeedback bsStyle={this.validateNameState()}\n                           onChange={this.handleChange} />\n                    <Input label=\"Email\" type=\"text\" ref=\"email\"\n                           placeholder=\"test@example.com\" value={this.state.email}\n                           hasFeedback bsStyle={this.validateEmailState()}\n                           onChange={this.handleChange} />\n                    <Button type=\"submit\" bsStyle=\"success\">\n                        Add Contact\n                    </Button>\n                    <Link to=\"s_contacts_list\" className=\"btn btn-default\">Cancel</Link>\n                </form>\n            </div>\n        );\n    }\n});\n","var Router = ReactRouter,\n    Route = Router.Route,\n    Link = Router.Link,\n    RouteHandler = Router.RouteHandler,\n    DefaultRoute = Router.DefaultRoute,\n    Redirect = Router.Redirect,\n    NotFoundRoute = Router.NotFoundRoute,\n\n    // bootstrap\n    Input = ReactBootstrap.Input,\n    Button = ReactBootstrap.Button;\n\nvar App = React.createClass({\n    getInitialState: function() {\n        return {\n            loggedIn: auth.loggedIn(),\n            messages: []\n        };\n    },\n    setStateOnAuth: function(loggedIn, messages) {\n        this.setState({loggedIn: loggedIn, messages: messages});\n    },\n    componentWillMount: function() {\n        auth.onChange = this.setStateOnAuth;\n        auth.login();\n    },\n    render: function() {\n        var Navbar = ReactBootstrap.Navbar,\n            Nav = ReactBootstrap.Nav,\n            NavItem = ReactBootstrap.NavItem;\n        if (this.state.loggedIn) {\n            accessLink = <NavItem href=\"#/logout\">Sign Out</NavItem>;\n        } else {\n            accessLink = <NavItem href=\"#/login\">Sign In</NavItem>;\n        }\n        return (\n            <div>\n                <Navbar brand=\"ZenPager\" fixedTop fluid inverse>\n                    <Nav right>\n                        <NavItem href=\"#/dashboard\">Dashboard</NavItem>\n                        <NavItem href=\"#/settings\">Settings</NavItem>\n                        <NavItem href=\"#/profile\">Profile</NavItem>\n                        {accessLink}\n                    </Nav>\n                </Navbar>\n                <RouteHandler messages={this.state.messages} />\n            </div>\n        );\n    }\n});\n\nvar Messages = React.createClass({\n    getInitialState: function() {\n        return {\n            visible: true\n        };\n    },\n    handleDismiss: function() {\n        this.setState({visible: false});\n    },\n    render: function() {\n        if (this.state.visible) {\n            var Alert = ReactBootstrap.Alert;\n            return (\n                <Alert bsStyle={this.props.type}\n                       onDismiss={this.handleDismiss}>\n                    {this.props.message}\n                </Alert>\n            );\n        }\n        return <div></div>;\n    }\n});\n\nvar NotFound = React.createClass({\n    render: function() {\n        return (\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-sm-9 col-sm-offset-3 col-md-10\n                                    col-md-offset-2 main\">\n                        <h1>404 Not Found</h1>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\nvar routes = (\n    <Route name=\"app\" path=\"/\" handler={App}>\n        <NotFoundRoute handler={NotFound} />\n        <Route name=\"login\" handler={Login} />\n        <Route name=\"logout\" handler={Logout} />\n        <Route name=\"dashboard\" handler={DashboardHolder}>\n            <Route name=\"d_overview\" path=\"overview\"\n                   handler={DashboardOverview} />\n            <Route name=\"d_servers\" path=\"servers\"\n                   handler={DashboardServers} />\n            <Route name=\"d_apps\" path=\"apps\" handler={DashboardApps} />\n            <Redirect from=\"/dashboard\" to=\"d_overview\" />\n        </Route>\n        <Route name=\"settings\" handler={SettingsHolder}>\n            <Route name=\"s_commands\" path=\"commands\"\n                   handler={SettingsCommands} />\n            <Route name=\"contacts\" handler={SettingsContactsHolder}>\n                <Route name=\"s_contacts_list\" path=\"list\"\n                       handler={SettingsContacts} />\n                <Route name=\"s_contacts_add\" path=\"add\"\n                       handler={SettingsContactsAdd} />\n                <Redirect from=\"/contacts\" to=\"s_contacts_list\" />\n            </Route>\n            <Route name=\"s_servers\" path=\"servers\" handler={SettingsServers} />\n            <Route name=\"s_timeperiods\" path=\"timeperiods\"\n                   handler={SettingsTimePeriods} />\n            <Redirect from=\"/settings\" to=\"s_commands\" />\n        </Route>\n        <Route name=\"profile\" handler={ProfileHolder}>\n            <Route name=\"p_password\" path=\"password\"\n                   handler={ProfilePassword} />\n            <Redirect from=\"/profile\" to=\"p_password\" />\n        </Route>\n        <Redirect from=\"/\" to=\"d_overview\" />\n    </Route>\n);\n\nRouter.run(routes, function(Handler) {\n    React.render(<Handler />, document.body);\n});\n"],"sourceRoot":"/source/"}