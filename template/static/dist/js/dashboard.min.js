function removeFromList(e,t){for(var s=[],a=0;a<e.length;a++)e[a]!=t&&s.push(e[a]);return s}function removeFromListByKey(e,t){for(var s=[],a=0;a<e.length;a++)parseInt(e[a].key,10)!==parseInt(t.id,10)&&s.push(e[a]);return s}function excludeByKey(e,t){for(var s=[],a=[],n=0;n<t.length;n++)a.push(t[n].key);for(var r=0;r<e.length;r++)-1===a.indexOf(e[r].key)&&s.push(e[r]);return s}function authenticate(e,t,s){var a=new XMLHttpRequest;a.open("POST","/api/v1/auth/login",!0),a.setRequestHeader("Content-Type","application/json"),a.onreadystatechange=function(){4===a.readyState&&(data=JSON.parse(a.responseText),s("success"===data.Result?{authenticated:!0,token:a.getResponseHeader("X-Access-Token"),id:data.data}:{authenticated:!1,errors:data.Messages}))},a.send(JSON.stringify({email:e,password:t}))}function logout(e){var t=new XMLHttpRequest;t.open("GET","/api/v1/auth/logout",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-Access-Token",e),t.onreadystatechange=function(){4===t.readyState&&(data=JSON.parse(t.responseText),console.log("success"===data.Result?"successfully logged out":"failed to logout!"))},t.send()}function passwordValid(e){return e.length>=8?!0:!1}function validateEmail(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function validateUrl(e){var t=/^[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}$/;return t.test(e)}function validateCommand(e){var t=/\$HOSTADDRESS\${1}/;return t.test(e)}var request={call:function(e,t,s){var a=new XMLHttpRequest;return a.open(e,t,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("X-Access-Token",auth.getToken()),a.onreadystatechange=function(){4===a.readyState&&(401==a.status?auth.logout():(data=JSON.parse(a.responseText),s&&s(data)))},a},remove:function(e,t){var s=this.call("DELETE",e,t);s.send()},get:function(e,t){var s=this.call("GET",e,t);s.send()},patch:function(e,t,s){var a=this.call("PATH",e,s);a.send(JSON.stringify(t))},post:function(e,t,s){var a=this.call("POST",e,s);a.send(JSON.stringify(t))},put:function(e,t,s){var a=this.call("PUT",e,s);a.send(JSON.stringify(t))}},AuthenticationMixin={statics:{willTransitionTo:function(e){var t=e.path;auth.loggedIn()||e.redirect("/login",{},{nextPath:t})}}},Login=React.createClass({displayName:"Login",contextTypes:{router:React.PropTypes.func.isRequired},getInitialState:function(){return{email:"",password:""}},getDefaultProps:function(){return{messages:[]}},validationEmailState:function(){return this.state.email.length>0?validateEmail(this.state.email)===!0?"success":"error":void 0},validationPasswordState:function(){return this.state.password.length>0?passwordValid(this.state.password)?"success":"error":void 0},handleChange:function(){this.setState({email:this.refs.email.getValue(),password:this.refs.password.getValue()})},handleSubmit:function(e){e.preventDefault();var t=this.context,s=t.router,a=s.getCurrentQuery().nextPath;auth.login(this.state.email,this.state.password,function(e){s.replaceWith(a?a:"/")}.bind(this))},render:function(){var e=[];return this.props.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 col-md-offset-5 main"},e,React.createElement("h1",{className:"page-header"},"Sign In"),React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement(Input,{label:"Email Address",type:"email",ref:"email",placeholder:"Enter email",value:this.state.email,autoFocus:!0,hasFeedback:!0,bsStyle:this.validationEmailState(),onChange:this.handleChange}),React.createElement(Input,{label:"Password",type:"password",ref:"password",placeholder:"Password",value:this.state.password,hasFeedback:!0,bsStyle:this.validationPasswordState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},"Sign In")))))}}),Logout=React.createClass({displayName:"Logout",componentDidMount:function(){auth.logout()},render:function(){return React.createElement("div",{className:"col-md-3 col-md-offset-3"},React.createElement("h1",null,"Signed Out"),React.createElement("p",null,"You are now signed out!"))}}),auth={login:function(e,t,s){return s=arguments[arguments.length-1],localStorage.token?(s&&s(!0),void this.onChange(!0)):void 0===e||void 0==t?void(s&&s(!1)):void authenticate(e,t,function(e){e.authenticated?(localStorage.token=e.token,localStorage.id=e.id,s&&s(!0),this.onChange(!0,e.errors)):(s&&s(!1),this.onChange(!1,e.errors))}.bind(this))},getToken:function(){return localStorage.token},logout:function(e){logout(localStorage.token),delete localStorage.token,e&&e(!1),this.onChange(!1)},loggedIn:function(){return!!localStorage.token},onChange:function(){}},DashboardHolder=React.createClass({displayName:"DashboardHolder",mixins:[AuthenticationMixin],getInitialState:function(){return{messages:[]}},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:"error",message:t}))}),React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-3 col-md-2 sidebar"},React.createElement("ul",{className:"nav nav-sidebar"},React.createElement("li",null,React.createElement(Link,{to:"d_overview"},"Overview")),React.createElement("li",null,React.createElement(Link,{to:"d_servers"},"Servers")),React.createElement("li",null,React.createElement(Link,{to:"d_apps"},"Applications")))),React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},e,React.createElement(RouteHandler,null))))}}),DashboardOverview=React.createClass({displayName:"DashboardOverview",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",null,"Dashboard Overview...")}}),DashboardServers=React.createClass({displayName:"DashboardServers",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",null,"Dashboard Servers...")}}),DashboardApps=React.createClass({displayName:"DashboardApps",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",null,"Dashboard Apps...")}}),ProfileHolder=React.createClass({displayName:"ProfileHolder",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-3 col-md-2 sidebar"},React.createElement("h1",null,"Profile"),React.createElement("ul",{className:"nav nav-sidebar"},React.createElement("li",null,React.createElement(Link,{to:"p_password"},"Password")))),React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},React.createElement(RouteHandler,null))))}}),ProfilePassword=React.createClass({displayName:"ProfilePassword",mixins:[AuthenticationMixin],getInitialState:function(){return{password:"",password_confirm:"",messages:[]}},validationPasswordState:function(){return this.state.password.length>0?passwordValid(this.state.password)?"success":"error":void 0},validationPasswordConfirmState:function(){return this.state.password_confirm.length>0||this.state.password.length>0?this.state.password_confirm===this.state.password?"success":"error":void 0},handleChange:function(){this.setState({password:this.refs.password.getValue(),password_confirm:this.refs.password_confirm.getValue()})},handleSubmit:function(e){return e.preventDefault(),this.state.password.length<1?void this.setState({messages:[{Type:"danger",Content:"Password is required."}]}):"success"!==this.validationPasswordState()||"success"!==this.validationPasswordConfirmState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void user.updatePassword(this.state.password,function(e,t){e===!0?this.setState({messages:t,password:"",password_confirm:""}):(this.setState({messages:t,password:this.state.password,password_confirm:this.state.password_confirm}),console.log(this.state.messages))}.bind(this))},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-3"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h1",{className:"page-header"},"Reset Password"),e,React.createElement(Input,{label:"New Password",type:"password",ref:"password",placeholder:"New password",value:this.state.password,autoFocus:!0,hasFeedback:!0,bsStyle:this.validationPasswordState(),onChange:this.handleChange}),React.createElement(Input,{label:"Confirm Password",type:"password",ref:"password_confirm",placeholder:"Confirm Password",value:this.state.password_confirm,hasFeedback:!0,bsStyle:this.validationPasswordConfirmState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},"Update Password")))}}),user={updatePassword:function(e,t){return callback=t,localStorage.id?e.length<1?void(callback&&callback(!1,["Password is required."])):void request.patch("/api/v1/user/"+localStorage.id,{password:e},this.processPatch):void(callback&&callback(!1))},processPatch:function(e){"success"==e.Result?callback&&callback(!0,[{Type:"success",Content:"Successfully updated password."}]):callback&&callback(!1,e.errors)}},settingsSideMenu={active:function(e){$(".nav-sidebar li a").removeClass("active");var t=$("."+e+"-link");t.addClass("active")}},SettingsHolder=React.createClass({displayName:"SettingsHolder",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-3 col-md-2 sidebar"},React.createElement("h1",null,"Settings"),React.createElement("ul",{className:"nav nav-sidebar"},React.createElement("li",null,React.createElement(Link,{to:"s_commands_list",className:"commands-link"},"Commands")),React.createElement("li",null,React.createElement(Link,{to:"s_contacts_list",className:"contacts-link"},"Contacts")),React.createElement("li",null,React.createElement(Link,{to:"s_servers_list",className:"servers-link"},"Servers")),React.createElement("li",null,React.createElement(Link,{to:"s_timeperiods",className:"timeperiods-link"},"Time Periods")))),React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},React.createElement(RouteHandler,null))))}}),SettingsCommands=React.createClass({displayName:"SettingsCommands",mixins:[AuthenticationMixin],componentDidMount:function(){settingsSideMenu.active("commands")},render:function(){return React.createElement("div",null,"Settings Commands...")}}),SettingsTimePeriods=React.createClass({displayName:"SettingsTimePeriods",mixins:[AuthenticationMixin],componentDidMount:function(){settingsSideMenu.active("timeperiods")},render:function(){return React.createElement("div",null,"Settings Time Periods...")}}),SettingsContactsList=React.createClass({displayName:"SettingsContactsList",mixins:[AuthenticationMixin,SettingsContactsMixin],propTypes:{contacts:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{contacts:[],messages:[]}},componentWillMount:function(){contacts.getAll(function(e,t){this.setState({contacts:e,messages:t})}.bind(this))},removeContact:function(e){contacts.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({contacts:removeFromList(this.state.contacts,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.contacts.forEach(function(e){t.push(React.createElement(SettingsContactsLine,{key:e.id,contact:e,removeContact:this.removeContact}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Individuals"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Email"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_contacts_add",className:"btn btn-primary"},"Add Contact"))}}),SettingsContactsLine=React.createClass({displayName:"SettingsContactsLine",handleDelete:function(){this.props.removeContact(this.props.contact)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_contacts_view",params:{contactId:this.props.contact.id}},this.props.contact.name)),React.createElement("td",null,this.props.contact.user.email),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_contacts_update",params:{contactId:this.props.contact.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsContactsForm=React.createClass({displayName:"SettingsContactsForm",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{id:"",action:"Add",name:"",email:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("contacts"),void 0!=this.props.params.contactId){var e=this.props.params.contactId;this.setState({id:e,action:"Update"}),contacts.get(e,this.handleGet)}},handleGet:function(e,t){this.setState(t.length>0?{messages:t,name:"",email:""}:{messages:t,name:e.name,email:e.user.email})},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},validateEmailState:function(){return this.state.email.length>0?validateEmail(this.state.email)===!0?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue(),email:this.refs.email.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):this.state.email.length<1?void this.setState({messages:[{Type:"danger",Content:"Email is required."}]}):"success"!==this.validateNameState()||"success"!==this.validateEmailState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?contacts.update(this.state.id,this.state.name,this.state.email,this.handleFormResponse):contacts.add(this.state.name,this.state.email,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:"",email:""}:{messages:t,name:this.state.name,email:this.state.email})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Contact"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"Jane Smart",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Input,{label:"Email",type:"text",ref:"email",placeholder:"test@example.com",value:this.state.email,hasFeedback:!0,bsStyle:this.validateEmailState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Contact"),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Cancel")))}}),SettingsContactsView=React.createClass({displayName:"SettingsContactsView",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{contact:{},all_groups:[],current_groups:[],messages:[]}},componentDidMount:function(){settingsSideMenu.active("contacts"),contacts.getGroups(this.props.params.contactId,function(e,t){this.isMounted()&&(this.setState({contact:e,messages:t}),this.setGroups(e.groups.map(function(e){return this.renderGroup(e,"current")}.bind(this)),void 0))}.bind(this)),contactgroups.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setGroups(void 0,e.map(function(e){return this.renderGroup(e,"available")}.bind(this))))}.bind(this))},removeGroup:function(e){contactgroups.removeContact(e.id,this.props.params.contactId,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_groups,e),s=this.state.all_groups.concat(this.renderGroup(e,"available"));this.setGroups(t,s)},addGroup:function(e){contactgroups.addContact(e.id,this.props.params.contactId,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_groups.concat(this.renderGroup(e,"current")),s=removeFromListByKey(this.state.all_groups,e);this.setGroups(t,s)},renderGroup:function(e,t){return React.createElement(SettingsContactsGroupElement,{key:e.id,group:e,state:t,removeGroup:this.removeGroup,addGroup:this.addGroup})},setGroups:function(e,t){void 0===e&&(e=this.state.current_groups),void 0===t&&(t=this.state.all_groups),this.setState({all_groups:excludeByKey(t,e),current_groups:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.contact.name),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_groups))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Groups"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_groups)))),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Back to List of Contacts"))}}),SettingsContactsGroupElement=React.createClass({displayName:"SettingsContactsGroupElement",handleRemove:function(){this.props.removeGroup(this.props.group)},handleAdd:function(){this.props.addGroup(this.props.group)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.group.name),React.createElement("td",null,e))}}),SettingsContactsGroups=React.createClass({displayName:"SettingsContactsGroups",mixins:[AuthenticationMixin,SettingsContactsMixin],propTypes:{groups:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{groups:[],messages:[]}},componentWillMount:function(){contactgroups.getAll(function(e,t){this.setState({groups:e,messages:t})}.bind(this))},removeGroup:function(e){contactgroups.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({groups:removeFromList(this.state.groups,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.groups.forEach(function(e){t.push(React.createElement(SettingsContactsGroupLine,{key:e.id,group:e,removeGroup:this.removeGroup}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Groups"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_contacts_group_add",className:"btn btn-primary"},"Add Group"))}}),SettingsContactsGroupLine=React.createClass({displayName:"SettingsContactsGroupLine",handleDelete:function(){this.props.removeGroup(this.props.group)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_contacts_group_contacts",params:{groupId:this.props.group.id}},this.props.group.name)),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_contacts_group_update",params:{groupId:this.props.group.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsContactsGroupForm=React.createClass({displayName:"SettingsContactsGroupForm",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{id:"",action:"Add",name:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("contacts"),void 0!=this.props.params.groupId){var e=this.props.params.groupId;this.setState({id:e,action:"Update"}),contactgroups.get(e,this.handleGet)}},handleGet:function(e,t){this.setState(t.length>0?{messages:t,name:""}:{messages:t,name:e.name})},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):"success"!==this.validateNameState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?contactgroups.update(this.state.id,this.state.name,this.handleFormResponse):contactgroups.add(this.state.name,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:""}:{messages:t,name:this.state.name})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Contact Group"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"Admins",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Contact Group"),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Cancel")))}}),SettingsContactsGroupContacts=React.createClass({displayName:"SettingsContactsGroupContacts",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{group:{},messages:[],all_contacts:[],current_contacts:[]}},componentDidMount:function(){settingsSideMenu.active("contacts"),contactgroups.getContacts(this.props.params.groupId,function(e,t){this.isMounted()&&(this.setState({group:e,messages:t}),this.setContacts(e.contacts.map(function(e){return this.renderContact(e,"current")}.bind(this)),void 0))}.bind(this)),contacts.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setContacts(void 0,e.map(function(e){return this.renderContact(e,"available")}.bind(this))))}.bind(this))},removeContact:function(e){contactgroups.removeContact(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_contacts,e),s=this.state.all_contacts.concat(this.renderContact(e,"available"));this.setContacts(t,s)},addContact:function(e){contactgroups.addContact(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_contacts.concat(this.renderContact(e,"current")),s=removeFromListByKey(this.state.all_contacts,e);this.setContacts(t,s)},renderContact:function(e,t){return React.createElement(SettingsContactsGroupContactLine,{key:e.id,contact:e,state:t,removeContact:this.removeContact,addContact:this.addContact})},setContacts:function(e,t){void 0===e&&(e=this.state.current_contacts),void 0===t&&(t=this.state.all_contacts),this.setState({all_contacts:excludeByKey(t,e),current_contacts:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.group.name),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_contacts))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Contacts"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_contacts)))),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Back to Contacts"))}}),SettingsContactsGroupContactLine=React.createClass({displayName:"SettingsContactsGroupContactLine",handleRemove:function(){this.props.removeContact(this.props.contact)},handleAdd:function(){this.props.addContact(this.props.contact)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.contact.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.contact.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.contact.name),React.createElement("td",null,e))}}),SettingsContactsMixin={componentDidMount:function(){settingsSideMenu.active("contacts")}},SettingsContactsHolder=React.createClass({displayName:"SettingsContactsHolder",mixins:[AuthenticationMixin,SettingsContactsMixin],render:function(){return React.createElement("div",null,React.createElement("h1",{className:"page-header"},"Contacts"),React.createElement(RouteHandler,null))}}),SettingsContacts=React.createClass({displayName:"SettingsContacts",mixins:[AuthenticationMixin,SettingsContactsMixin],render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(SettingsContactsGroups,null)),React.createElement("div",{className:"col-md-6"},React.createElement(SettingsContactsList,null)))}}),SettingsCommandsList=React.createClass({displayName:"SettingsCommandsList",mixins:[AuthenticationMixin,SettingsCommandsMixin],propTypes:{commands:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{commands:[],messages:[]}},componentWillMount:function(){commands.getAll(function(e,t){this.setState({commands:e,messages:t})}.bind(this))},removeCommand:function(e){commands.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({commands:removeFromList(this.state.commands,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.commands.forEach(function(e){t.push(React.createElement(SettingsCommandsLine,{key:e.id,command:e,removeCommand:this.removeCommand}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Commands"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Command"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_commands_add",className:"btn btn-primary"},"Add Command"))}}),SettingsCommandsLine=React.createClass({displayName:"SettingsCommandsLine",handleDelete:function(){this.props.removeCommand(this.props.command)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_commands_view",params:{commandId:this.props.command.id}},this.props.command.name)),React.createElement("td",null,this.props.command.command),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_commands_update",params:{commandId:this.props.command.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsCommandsForm=React.createClass({displayName:"SettingsCommandsForm",mixins:[AuthenticationMixin,SettingsCommandsMixin],getInitialState:function(){return{id:"",action:"Add",name:"",command:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("commands"),void 0!=this.props.params.commandId){var e=this.props.params.commandId;this.setState({id:e,action:"Update"}),commands.get(e,this.handleGet)}},handleGet:function(e,t){t.length>0?this.setState({messages:t,name:"",command:""}):(console.log(e),this.setState({messages:t,name:e.name,command:e.command}))},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},validateCommandState:function(){return this.state.command.length>0?validateCommand(this.state.command)===!0?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue(),command:this.refs.command.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):this.state.command.length<1?void this.setState({messages:[{Type:"danger",Content:"Command is required."}]}):"success"!==this.validateNameState()||"success"!==this.validateCommandState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?commands.update(this.state.id,this.state.name,this.state.command,this.handleFormResponse):commands.add(this.state.name,this.state.command,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:"",command:""}:{messages:t,name:this.state.name,command:this.state.command})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Command"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"Ping",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Input,{label:"Command",type:"text",ref:"command",placeholder:"/path/command $HOSTADDRESS$ $ARG1$",value:this.state.command,hasFeedback:!0,bsStyle:this.validateCommandState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Command"),React.createElement(Link,{to:"s_commands_list",className:"btn btn-default"},"Cancel")))}}),SettingsCommandsView=React.createClass({displayName:"SettingsCommandsView",mixins:[AuthenticationMixin,SettingsCommandsMixin],getInitialState:function(){return{command:{},all_groups:[],current_groups:[],messages:[]}},componentDidMount:function(){settingsSideMenu.active("commands"),commands.getGroups(this.props.params.commandId,function(e,t){this.isMounted()&&(this.setState({command:e,messages:t}),this.setGroups(e.groups.map(function(e){return this.renderGroup(e,"current")}.bind(this)),void 0))}.bind(this)),commandgroups.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setGroups(void 0,e.map(function(e){return this.renderGroup(e,"available")}.bind(this))));

}.bind(this))},removeGroup:function(e){commandgroups.removeCommand(e.id,this.props.params.commandId,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_groups,e),s=this.state.all_groups.concat(this.renderGroup(e,"available"));this.setGroups(t,s)},addGroup:function(e){commandgroups.addCommand(e.id,this.props.params.commandId,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_groups.concat(this.renderGroup(e,"current")),s=removeFromListByKey(this.state.all_groups,e);this.setGroups(t,s)},renderGroup:function(e,t){return React.createElement(SettingsCommandsGroupElement,{key:e.id,group:e,state:t,removeGroup:this.removeGroup,addGroup:this.addGroup})},setGroups:function(e,t){void 0===e&&(e=this.state.current_groups),void 0===t&&(t=this.state.all_groups),this.setState({all_groups:excludeByKey(t,e),current_groups:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.command.name," ",React.createElement("small",null,"(",this.state.command.command,")")),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_groups))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Groups"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_groups)))),React.createElement(Link,{to:"s_commands_list",className:"btn btn-default"},"Back to List of Commands"))}}),SettingsCommandsGroupElement=React.createClass({displayName:"SettingsCommandsGroupElement",handleRemove:function(){this.props.removeGroup(this.props.group)},handleAdd:function(){this.props.addGroup(this.props.group)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.group.name),React.createElement("td",null,e))}}),SettingsCommandsGroups=React.createClass({displayName:"SettingsCommandsGroups",mixins:[AuthenticationMixin,SettingsCommandsMixin],propTypes:{groups:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{groups:[],messages:[]}},componentWillMount:function(){commandgroups.getAll(function(e,t){this.setState({groups:e,messages:t})}.bind(this))},removeGroup:function(e){commandgroups.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({groups:removeFromList(this.state.groups,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.groups.forEach(function(e){t.push(React.createElement(SettingsCommandsGroupLine,{key:e.id,group:e,removeGroup:this.removeGroup}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Groups"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_commands_group_add",className:"btn btn-primary"},"Add Group"))}}),SettingsCommandsGroupLine=React.createClass({displayName:"SettingsCommandsGroupLine",handleDelete:function(){this.props.removeGroup(this.props.group)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_commands_group_commands",params:{groupId:this.props.group.id}},this.props.group.name)),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_commands_group_update",params:{groupId:this.props.group.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsCommandsGroupForm=React.createClass({displayName:"SettingsCommandsGroupForm",mixins:[AuthenticationMixin,SettingsCommandsMixin],getInitialState:function(){return{id:"",action:"Add",name:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("commands"),void 0!=this.props.params.groupId){var e=this.props.params.groupId;this.setState({id:e,action:"Update"}),commandgroups.get(e,this.handleGet)}},handleGet:function(e,t){this.setState(t.length>0?{messages:t,name:""}:{messages:t,name:e.name})},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):"success"!==this.validateNameState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?commandgroups.update(this.state.id,this.state.name,this.handleFormResponse):commandgroups.add(this.state.name,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:""}:{messages:t,name:this.state.name})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Command Group"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"Database Commands",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Command Group"),React.createElement(Link,{to:"s_commands_list",className:"btn btn-default"},"Cancel")))}}),SettingsCommandsGroupCommands=React.createClass({displayName:"SettingsCommandsGroupCommands",mixins:[AuthenticationMixin,SettingsCommandsMixin],getInitialState:function(){return{group:{},messages:[],all_commands:[],current_commands:[]}},componentDidMount:function(){settingsSideMenu.active("commands"),commandgroups.getCommands(this.props.params.groupId,function(e,t){this.isMounted()&&(this.setState({group:e,messages:t}),this.setCommands(e.commands.map(function(e){return this.renderCommand(e,"current")}.bind(this)),void 0))}.bind(this)),commands.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setCommands(void 0,e.map(function(e){return this.renderCommand(e,"available")}.bind(this))))}.bind(this))},removeCommand:function(e){commandgroups.removeCommand(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_commands,e),s=this.state.all_commands.concat(this.renderCommand(e,"available"));this.setCommands(t,s)},addCommand:function(e){commandgroups.addCommand(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_commands.concat(this.renderCommand(e,"current")),s=removeFromListByKey(this.state.all_commands,e);this.setCommands(t,s)},renderCommand:function(e,t){return React.createElement(SettingsCommandsGroupCommandLine,{key:e.id,command:e,state:t,removeCommand:this.removeCommand,addCommand:this.addCommand})},setCommands:function(e,t){void 0===e&&(e=this.state.current_commands),void 0===t&&(t=this.state.all_commands),this.setState({all_commands:excludeByKey(t,e),current_commands:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.group.name),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_commands))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Commands"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_commands)))),React.createElement(Link,{to:"s_commands_list",className:"btn btn-default"},"Back to Commands"))}}),SettingsCommandsGroupCommandLine=React.createClass({displayName:"SettingsCommandsGroupCommandLine",handleRemove:function(){this.props.removeCommand(this.props.command)},handleAdd:function(){this.props.addCommand(this.props.command)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.command.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.command.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.command.name),React.createElement("td",null,e))}}),SettingsCommandsMixin={componentDidMount:function(){settingsSideMenu.active("commands")}},SettingsCommandsHolder=React.createClass({displayName:"SettingsCommandsHolder",mixins:[AuthenticationMixin,SettingsCommandsMixin],render:function(){return React.createElement("div",null,React.createElement("h1",{className:"page-header"},"Commands"),React.createElement(RouteHandler,null))}}),SettingsCommands=React.createClass({displayName:"SettingsCommands",mixins:[AuthenticationMixin,SettingsCommandsMixin],render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(SettingsCommandsGroups,null)),React.createElement("div",{className:"col-md-6"},React.createElement(SettingsCommandsList,null)))}}),SettingsServersGroups=React.createClass({displayName:"SettingsServersGroups",mixins:[AuthenticationMixin,SettingsServersMixin],propTypes:{groups:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{groups:[],messages:[]}},componentWillMount:function(){servergroups.getAll(function(e,t){this.setState({groups:e,messages:t})}.bind(this))},removeGroup:function(e){servergroups.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({groups:removeFromList(this.state.groups,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.groups.forEach(function(e){t.push(React.createElement(SettingsServersGroupLine,{key:e.id,group:e,removeGroup:this.removeGroup}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Groups"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_servers_group_add",className:"btn btn-primary"},"Add Group"))}}),SettingsServersGroupLine=React.createClass({displayName:"SettingsServersGroupLine",handleDelete:function(){this.props.removeGroup(this.props.group)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_servers_group_servers",params:{groupId:this.props.group.id}},this.props.group.name)),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_servers_group_update",params:{groupId:this.props.group.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsServersGroupForm=React.createClass({displayName:"SettingsServersGroupForm",mixins:[AuthenticationMixin,SettingsServersMixin],getInitialState:function(){return{id:"",action:"Add",name:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("servers"),void 0!=this.props.params.groupId){var e=this.props.params.groupId;this.setState({id:e,action:"Update"}),servergroups.get(e,this.handleGet)}},handleGet:function(e,t){this.setState(t.length>0?{messages:t,name:""}:{messages:t,name:e.name})},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):"success"!==this.validateNameState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?servergroups.update(this.state.id,this.state.name,this.handleFormResponse):servergroups.add(this.state.name,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:""}:{messages:t,name:this.state.name})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Server Group"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"Database Servers",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Server Group"),React.createElement(Link,{to:"s_servers_list",className:"btn btn-default"},"Cancel")))}}),SettingsServersGroupServers=React.createClass({displayName:"SettingsServersGroupServers",mixins:[AuthenticationMixin,SettingsServersMixin],getInitialState:function(){return{group:{},messages:[],all_servers:[],current_servers:[]}},componentDidMount:function(){settingsSideMenu.active("servers"),servergroups.getServers(this.props.params.groupId,function(e,t){this.isMounted()&&(this.setState({group:e,messages:t}),this.setServers(e.servers.map(function(e){return this.renderServer(e,"current")}.bind(this)),void 0))}.bind(this)),servers.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setServers(void 0,e.map(function(e){return this.renderServer(e,"available")}.bind(this))))}.bind(this))},removeServer:function(e){servergroups.removeServer(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_servers,e),s=this.state.all_servers.concat(this.renderServer(e,"available"));this.setServers(t,s)},addServer:function(e){servergroups.addServer(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_servers.concat(this.renderServer(e,"current")),s=removeFromListByKey(this.state.all_servers,e);this.setServers(t,s)},renderServer:function(e,t){return React.createElement(SettingsServersGroupServerLine,{key:e.id,server:e,state:t,removeServer:this.removeServer,addServer:this.addServer})},setServers:function(e,t){void 0===e&&(e=this.state.current_servers),void 0===t&&(t=this.state.all_servers),this.setState({all_servers:excludeByKey(t,e),current_servers:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.group.name),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_servers))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Servers"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_servers)))),React.createElement(Link,{to:"s_servers_list",className:"btn btn-default"},"Back to Servers"))}}),SettingsServersGroupServerLine=React.createClass({displayName:"SettingsServersGroupServerLine",handleRemove:function(){this.props.removeServer(this.props.server)},handleAdd:function(){this.props.addServer(this.props.server)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.server.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.server.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.server.name),React.createElement("td",null,e))}}),SettingsServersMixin={componentDidMount:function(){settingsSideMenu.active("servers")}},SettingsServersHolder=React.createClass({displayName:"SettingsServersHolder",mixins:[AuthenticationMixin,SettingsServersMixin],render:function(){return React.createElement("div",null,React.createElement("h1",{className:"page-header"},"Servers"),React.createElement(RouteHandler,null))}}),SettingsServers=React.createClass({displayName:"SettingsServers",mixins:[AuthenticationMixin,SettingsServersMixin],render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(SettingsServersGroups,null)),React.createElement("div",{className:"col-md-6"},React.createElement(SettingsServersList,null)))}}),SettingsServersList=React.createClass({displayName:"SettingsServersList",mixins:[AuthenticationMixin,SettingsServersMixin],propTypes:{servers:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{servers:[],messages:[]}},componentWillMount:function(){servers.getAll(function(e,t){this.setState({servers:e,messages:t})}.bind(this))},removeServer:function(e){servers.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({servers:removeFromList(this.state.servers,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.servers.forEach(function(e){t.push(React.createElement(SettingsServersLine,{key:e.id,server:e,removeServer:this.removeServer}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Servers"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Address"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_servers_add",className:"btn btn-primary"},"Add Server"))}}),SettingsServersLine=React.createClass({displayName:"SettingsServersLine",handleDelete:function(){this.props.removeServer(this.props.server)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_servers_view",params:{serverId:this.props.server.id}},this.props.server.name)),React.createElement("td",null,this.props.server.url),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_servers_update",params:{serverId:this.props.server.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsServersForm=React.createClass({displayName:"SettingsServersForm",mixins:[AuthenticationMixin,SettingsServersMixin],getInitialState:function(){return{id:"",action:"Add",name:"",url:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("servers"),void 0!=this.props.params.serverId){var e=this.props.params.serverId;this.setState({id:e,action:"Update"}),servers.get(e,this.handleGet)}},handleGet:function(e,t){t.length>0?this.setState({messages:t,name:"",url:""}):(console.log(e),this.setState({messages:t,name:e.name,url:e.url.Host}))},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},validateUrlState:function(){return this.state.url.length>0?validateUrl(this.state.url)===!0?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue(),url:this.refs.url.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):this.state.url.length<1?void this.setState({messages:[{Type:"danger",Content:"Address is required."}]}):"success"!==this.validateNameState()||"success"!==this.validateUrlState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?servers.update(this.state.id,this.state.name,this.state.url,this.handleFormResponse):servers.add(this.state.name,this.state.url,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:"",url:""}:{messages:t,name:this.state.name,url:this.state.url})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Server"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"LAMP Server",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Input,{label:"Address",type:"text",ref:"url",placeholder:"127.0.0.1",value:this.state.url,hasFeedback:!0,bsStyle:this.validateUrlState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Server"),React.createElement(Link,{to:"s_servers_list",className:"btn btn-default"},"Cancel")))}}),SettingsServersView=React.createClass({displayName:"SettingsServersView",mixins:[AuthenticationMixin,SettingsServersMixin],getInitialState:function(){return{server:{},all_groups:[],current_groups:[],messages:[]}},componentDidMount:function(){settingsSideMenu.active("servers"),servers.getGroups(this.props.params.serverId,function(e,t){this.isMounted()&&(this.setState({server:e,messages:t}),this.setGroups(e.groups.map(function(e){return this.renderGroup(e,"current")}.bind(this)),void 0))}.bind(this)),servergroups.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setGroups(void 0,e.map(function(e){return this.renderGroup(e,"available")}.bind(this))))}.bind(this))},removeGroup:function(e){servergroups.removeServer(e.id,this.props.params.serverId,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_groups,e),s=this.state.all_groups.concat(this.renderGroup(e,"available"));this.setGroups(t,s)},addGroup:function(e){servergroups.addServer(e.id,this.props.params.serverId,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_groups.concat(this.renderGroup(e,"current")),s=removeFromListByKey(this.state.all_groups,e);this.setGroups(t,s)},renderGroup:function(e,t){return React.createElement(SettingsServersGroupElement,{key:e.id,group:e,state:t,removeGroup:this.removeGroup,addGroup:this.addGroup})},setGroups:function(e,t){void 0===e&&(e=this.state.current_groups),void 0===t&&(t=this.state.all_groups),this.setState({all_groups:excludeByKey(t,e),current_groups:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.server.name," ",React.createElement("small",null,"(",this.state.server.url,")")),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_groups))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Groups"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_groups)))),React.createElement(Link,{to:"s_servers_list",className:"btn btn-default"},"Back to List of Servers"))}}),SettingsServersGroupElement=React.createClass({displayName:"SettingsServersGroupElement",handleRemove:function(){this.props.removeGroup(this.props.group)},handleAdd:function(){this.props.addGroup(this.props.group)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.group.name),React.createElement("td",null,e))}}),contacts={get:function(e,t){request.get("/api/v1/contacts/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/contacts/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t,s){request.post("/api/v1/contacts/",{name:e,email:t},function(e){"success"==e.Result?s&&s(!0,[{Type:"success",Content:"Successfully added contact."}]):s&&s(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/contacts/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed contact."}]):t&&t(e.Messages)})},update:function(e,t,s,a){request.put("/api/v1/contacts/"+e,{name:t,email:s},function(e){"success"==e.Result?a&&a(!0,[{Type:"success",Content:"Successfully updated contact."}]):a&&a(!1,e.Messages)})},getGroups:function(e,t){request.get("/api/v1/contacts/"+e+"/groups/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})}},contactgroups={get:function(e,t){request.get("/api/v1/contacts/groups/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/contacts/groups/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t){request.post("/api/v1/contacts/groups/",{name:e},function(e){"success"==e.Result?t&&t(!0,[{Type:"success",Content:"Successfully added contact group."}]):t&&t(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/contacts/groups/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed contact group."}]):t&&t(e.Messages)})},update:function(e,t,s){request.put("/api/v1/contacts/groups/"+e,{name:t},function(e){"success"==e.Result?s&&s(!0,[{Type:"success",Content:"Successfully updated contact group."}]):s&&s(!1,e.Messages)})},getContacts:function(e,t){request.get("/api/v1/contacts/groups/"+e+"/contacts/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},addContact:function(e,t,s){request.post("/api/v1/contacts/groups/"+e+"/contacts/",{id:parseInt(t,10)},function(e){"success"==e.Result?s&&s(e.Data,[{Type:"success",Content:"Successfully added contact to group."}]):s&&s(!1,e.Messages)})},removeContact:function(e,t,s){request.remove("/api/v1/contacts/groups/"+e+"/contacts/"+t,function(e){"success"==e.Result?s&&s(e.Data,[{Type:"success",Content:"Successfully removed contact from group."}]):s&&s(!1,e.Messages)})}},servergroups={get:function(e,t){request.get("/api/v1/servers/groups/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/servers/groups/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t){request.post("/api/v1/servers/groups/",{name:e},function(e){"success"==e.Result?t&&t(!0,[{Type:"success",Content:"Successfully added server group."}]):t&&t(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/servers/groups/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed server group."}]):t&&t(e.Messages)})},update:function(e,t,s){request.put("/api/v1/servers/groups/"+e,{name:t},function(e){"success"==e.Result?s&&s(!0,[{Type:"success",Content:"Successfully updated server group."}]):s&&s(!1,e.Messages)})},getServers:function(e,t){request.get("/api/v1/servers/groups/"+e+"/servers/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},addServer:function(e,t,s){request.post("/api/v1/servers/groups/"+e+"/servers/",{id:parseInt(t,10)},function(e){"success"==e.Result?s&&s(e.Data,[{Type:"success",Content:"Successfully added server to group."}]):s&&s(!1,e.Messages)})},removeServer:function(e,t,s){request.remove("/api/v1/servers/groups/"+e+"/servers/"+t,function(e){"success"==e.Result?s&&s(e.Data,[{Type:"success",Content:"Successfully removed server from group."}]):s&&s(!1,e.Messages)})}},servers={get:function(e,t){request.get("/api/v1/servers/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/servers/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t,s){request.post("/api/v1/servers/",{name:e,url:t},function(e){"success"==e.Result?s&&s(!0,[{Type:"success",Content:"Successfully added server."}]):s&&s(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/servers/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed server."}]):t&&t(e.Messages)})},update:function(e,t,s,a){request.put("/api/v1/servers/"+e,{name:t,url:s},function(e){"success"==e.Result?a&&a(!0,[{Type:"success",Content:"Successfully updated server."}]):a&&a(!1,e.Messages)})},getGroups:function(e,t){request.get("/api/v1/servers/"+e+"/groups/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})}},commands={get:function(e,t){request.get("/api/v1/commands/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/commands/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t,s){request.post("/api/v1/commands/",{name:e,command:t},function(e){"success"==e.Result?s&&s(!0,[{Type:"success",Content:"Successfully added command."}]):s&&s(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/commands/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed command."}]):t&&t(e.Messages)})},update:function(e,t,s,a){request.put("/api/v1/commands/"+e,{name:t,command:s},function(e){"success"==e.Result?a&&a(!0,[{Type:"success",Content:"Successfully updated command."}]):a&&a(!1,e.Messages)})},getGroups:function(e,t){request.get("/api/v1/commands/"+e+"/groups/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})}},commandgroups={get:function(e,t){request.get("/api/v1/commands/groups/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/commands/groups/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t){request.post("/api/v1/commands/groups/",{name:e},function(e){"success"==e.Result?t&&t(!0,[{Type:"success",Content:"Successfully added command group."
}]):t&&t(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/commands/groups/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed command group."}]):t&&t(e.Messages)})},update:function(e,t,s){request.put("/api/v1/commands/groups/"+e,{name:t},function(e){"success"==e.Result?s&&s(!0,[{Type:"success",Content:"Successfully updated command group."}]):s&&s(!1,e.Messages)})},getCommands:function(e,t){request.get("/api/v1/commands/groups/"+e+"/commands/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},addCommand:function(e,t,s){request.post("/api/v1/commands/groups/"+e+"/commands/",{id:parseInt(t,10)},function(e){"success"==e.Result?s&&s(e.Data,[{Type:"success",Content:"Successfully added command to group."}]):s&&s(!1,e.Messages)})},removeCommand:function(e,t,s){request.remove("/api/v1/commands/groups/"+e+"/commands/"+t,function(e){"success"==e.Result?s&&s(e.Data,[{Type:"success",Content:"Successfully removed command from group."}]):s&&s(!1,e.Messages)})}},Router=ReactRouter,Route=Router.Route,Link=Router.Link,RouteHandler=Router.RouteHandler,DefaultRoute=Router.DefaultRoute,Redirect=Router.Redirect,NotFoundRoute=Router.NotFoundRoute,Input=ReactBootstrap.Input,Button=ReactBootstrap.Button,Table=ReactBootstrap.Table,App=React.createClass({displayName:"App",getInitialState:function(){return{loggedIn:auth.loggedIn(),messages:[]}},setStateOnAuth:function(e,t){this.setState({loggedIn:e,messages:t})},componentWillMount:function(){auth.onChange=this.setStateOnAuth,auth.login()},render:function(){var e=ReactBootstrap.Navbar,t=ReactBootstrap.Nav,s=ReactBootstrap.NavItem;return accessLink=this.state.loggedIn?React.createElement(s,{href:"#/logout"},"Sign Out"):React.createElement(s,{href:"#/login"},"Sign In"),React.createElement("div",null,React.createElement(e,{brand:"ZenPager",fixedTop:!0,fluid:!0,inverse:!0},React.createElement(t,{right:!0},React.createElement(s,{href:"#/dashboard"},"Dashboard"),React.createElement(s,{href:"#/settings"},"Settings"),React.createElement(s,{href:"#/profile"},"Profile"),accessLink)),React.createElement(RouteHandler,{messages:this.state.messages}))}}),Messages=React.createClass({displayName:"Messages",getInitialState:function(){return{visible:!0}},handleDismiss:function(){this.setState({visible:!1})},render:function(){if(this.state.visible){var e=ReactBootstrap.Alert;return React.createElement(e,{bsStyle:this.props.type,onDismiss:this.handleDismiss},this.props.message)}return React.createElement("div",null)}}),NotFound=React.createClass({displayName:"NotFound",render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},React.createElement("h1",null,"404 Not Found"))))}}),routes=React.createElement(Route,{name:"app",path:"/",handler:App},React.createElement(NotFoundRoute,{handler:NotFound}),React.createElement(Route,{name:"login",handler:Login}),React.createElement(Route,{name:"logout",handler:Logout}),React.createElement(Route,{name:"dashboard",handler:DashboardHolder},React.createElement(Route,{name:"d_overview",path:"overview",handler:DashboardOverview}),React.createElement(Route,{name:"d_servers",path:"servers",handler:DashboardServers}),React.createElement(Route,{name:"d_apps",path:"apps",handler:DashboardApps}),React.createElement(Redirect,{from:"/dashboard",to:"d_overview"})),"// Settings",React.createElement(Route,{name:"settings",handler:SettingsHolder},"// Commands",React.createElement(Route,{name:"commands",handler:SettingsCommandsHolder},React.createElement(Route,{name:"s_commands_list",path:"list",handler:SettingsCommands}),React.createElement(Route,{name:"s_commands_add",path:"add",handler:SettingsCommandsForm}),React.createElement(Route,{name:"s_commands_update",path:"update/:commandId",handler:SettingsCommandsForm}),React.createElement(Route,{name:"s_commands_view",path:":commandId",handler:SettingsCommandsView}),React.createElement(Route,{name:"s_commands_group_add",path:"group/add",handler:SettingsCommandsGroupForm}),React.createElement(Route,{name:"s_commands_group_update",path:"group/update/:groupId",handler:SettingsCommandsGroupForm}),React.createElement(Route,{name:"s_commands_group_commands",path:"group/:groupId",handler:SettingsCommandsGroupCommands}),React.createElement(Redirect,{from:"/commands",to:"s_commands_list"})),"// Contacts",React.createElement(Route,{name:"contacts",handler:SettingsContactsHolder},React.createElement(Route,{name:"s_contacts_list",path:"list",handler:SettingsContacts}),React.createElement(Route,{name:"s_contacts_add",path:"add",handler:SettingsContactsForm}),React.createElement(Route,{name:"s_contacts_update",path:"update/:contactId",handler:SettingsContactsForm}),React.createElement(Route,{name:"s_contacts_view",path:":contactId",handler:SettingsContactsView}),React.createElement(Route,{name:"s_contacts_group_add",path:"group/add",handler:SettingsContactsGroupForm}),React.createElement(Route,{name:"s_contacts_group_update",path:"group/update/:groupId",handler:SettingsContactsGroupForm}),React.createElement(Route,{name:"s_contacts_group_contacts",path:"group/:groupId",handler:SettingsContactsGroupContacts}),React.createElement(Redirect,{from:"/contacts",to:"s_contacts_list"})),"// Servers",React.createElement(Route,{name:"servers",handler:SettingsServersHolder},React.createElement(Route,{name:"s_servers_list",path:"list",handler:SettingsServers}),React.createElement(Route,{name:"s_servers_add",path:"add",handler:SettingsServersForm}),React.createElement(Route,{name:"s_servers_update",path:"update/:serverId",handler:SettingsServersForm}),React.createElement(Route,{name:"s_servers_view",path:":serverId",handler:SettingsServersView}),React.createElement(Route,{name:"s_servers_group_add",path:"group/add",handler:SettingsServersGroupForm}),React.createElement(Route,{name:"s_servers_group_update",path:"group/update/:groupId",handler:SettingsServersGroupForm}),React.createElement(Route,{name:"s_servers_group_servers",path:"group/:groupId",handler:SettingsServersGroupServers}),React.createElement(Redirect,{from:"/servers",to:"s_servers_list"})),React.createElement(Route,{name:"s_timeperiods",path:"timeperiods",handler:SettingsTimePeriods}),React.createElement(Redirect,{from:"/settings",to:"s_commands_list"})),React.createElement(Route,{name:"profile",handler:ProfileHolder},React.createElement(Route,{name:"p_password",path:"password",handler:ProfilePassword}),React.createElement(Redirect,{from:"/profile",to:"p_password"})),React.createElement(Redirect,{from:"/",to:"d_overview"}));Router.run(routes,function(e){React.render(React.createElement(e,null),document.body)});
//# sourceMappingURL=dashboard.min.js.map