function removeFromList(e,t){for(var a=[],s=0;s<e.length;s++)e[s]!=t&&a.push(e[s]);return a}function removeFromListByKey(e,t){for(var a=[],s=0;s<e.length;s++)parseInt(e[s].key,10)!==parseInt(t.id,10)&&a.push(e[s]);return a}function excludeByKey(e,t){for(var a=[],s=[],n=0;n<t.length;n++)s.push(t[n].key);for(var c=0;c<e.length;c++)-1===s.indexOf(e[c].key)&&a.push(e[c]);return a}function authenticate(e,t,a){var s=new XMLHttpRequest;s.open("POST","/api/v1/auth/login",!0),s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=function(){4===s.readyState&&(data=JSON.parse(s.responseText),a("success"===data.Result?{authenticated:!0,token:s.getResponseHeader("X-Access-Token"),id:data.data}:{authenticated:!1,errors:data.Messages}))},s.send(JSON.stringify({email:e,password:t}))}function logout(e){var t=new XMLHttpRequest;t.open("GET","/api/v1/auth/logout",!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("X-Access-Token",e),t.onreadystatechange=function(){4===t.readyState&&(data=JSON.parse(t.responseText),console.log("success"===data.Result?"successfully logged out":"failed to logout!"))},t.send()}function passwordValid(e){return e.length>=8?!0:!1}function validateEmail(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var request={call:function(e,t,a){var s=new XMLHttpRequest;return s.open(e,t,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("X-Access-Token",auth.getToken()),s.onreadystatechange=function(){4===s.readyState&&(401==s.status?auth.logout():(data=JSON.parse(s.responseText),a&&a(data)))},s},remove:function(e,t){var a=this.call("DELETE",e,t);a.send()},get:function(e,t){var a=this.call("GET",e,t);a.send()},patch:function(e,t,a){var s=this.call("PATH",e,a);s.send(JSON.stringify(t))},post:function(e,t,a){var s=this.call("POST",e,a);s.send(JSON.stringify(t))},put:function(e,t,a){var s=this.call("PUT",e,a);s.send(JSON.stringify(t))}},AuthenticationMixin={statics:{willTransitionTo:function(e){var t=e.path;auth.loggedIn()||e.redirect("/login",{},{nextPath:t})}}},Login=React.createClass({displayName:"Login",contextTypes:{router:React.PropTypes.func.isRequired},getInitialState:function(){return{email:"",password:""}},getDefaultProps:function(){return{messages:[]}},validationEmailState:function(){return this.state.email.length>0?validateEmail(this.state.email)===!0?"success":"error":void 0},validationPasswordState:function(){return this.state.password.length>0?passwordValid(this.state.password)?"success":"error":void 0},handleChange:function(){this.setState({email:this.refs.email.getValue(),password:this.refs.password.getValue()})},handleSubmit:function(e){e.preventDefault();var t=this.context,a=t.router,s=a.getCurrentQuery().nextPath;auth.login(this.state.email,this.state.password,function(e){a.replaceWith(s?s:"/")}.bind(this))},render:function(){var e=[];return this.props.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3 col-md-offset-5 main"},e,React.createElement("h1",{className:"page-header"},"Sign In"),React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement(Input,{label:"Email Address",type:"email",ref:"email",placeholder:"Enter email",value:this.state.email,autoFocus:!0,hasFeedback:!0,bsStyle:this.validationEmailState(),onChange:this.handleChange}),React.createElement(Input,{label:"Password",type:"password",ref:"password",placeholder:"Password",value:this.state.password,hasFeedback:!0,bsStyle:this.validationPasswordState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},"Sign In")))))}}),Logout=React.createClass({displayName:"Logout",componentDidMount:function(){auth.logout()},render:function(){return React.createElement("div",{className:"col-md-3 col-md-offset-3"},React.createElement("h1",null,"Signed Out"),React.createElement("p",null,"You are now signed out!"))}}),auth={login:function(e,t,a){return a=arguments[arguments.length-1],localStorage.token?(a&&a(!0),void this.onChange(!0)):void 0===e||void 0==t?void(a&&a(!1)):void authenticate(e,t,function(e){e.authenticated?(localStorage.token=e.token,localStorage.id=e.id,a&&a(!0),this.onChange(!0,e.errors)):(a&&a(!1),this.onChange(!1,e.errors))}.bind(this))},getToken:function(){return localStorage.token},logout:function(e){logout(localStorage.token),delete localStorage.token,e&&e(!1),this.onChange(!1)},loggedIn:function(){return!!localStorage.token},onChange:function(){}},DashboardHolder=React.createClass({displayName:"DashboardHolder",mixins:[AuthenticationMixin],getInitialState:function(){return{messages:[]}},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:"error",message:t}))}),React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-3 col-md-2 sidebar"},React.createElement("ul",{className:"nav nav-sidebar"},React.createElement("li",null,React.createElement(Link,{to:"d_overview"},"Overview")),React.createElement("li",null,React.createElement(Link,{to:"d_servers"},"Servers")),React.createElement("li",null,React.createElement(Link,{to:"d_apps"},"Applications")))),React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},e,React.createElement(RouteHandler,null))))}}),DashboardOverview=React.createClass({displayName:"DashboardOverview",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",null,"Dashboard Overview...")}}),DashboardServers=React.createClass({displayName:"DashboardServers",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",null,"Dashboard Servers...")}}),DashboardApps=React.createClass({displayName:"DashboardApps",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",null,"Dashboard Apps...")}}),ProfileHolder=React.createClass({displayName:"ProfileHolder",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-3 col-md-2 sidebar"},React.createElement("h1",null,"Profile"),React.createElement("ul",{className:"nav nav-sidebar"},React.createElement("li",null,React.createElement(Link,{to:"p_password"},"Password")))),React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},React.createElement(RouteHandler,null))))}}),ProfilePassword=React.createClass({displayName:"ProfilePassword",mixins:[AuthenticationMixin],getInitialState:function(){return{password:"",password_confirm:"",messages:[]}},validationPasswordState:function(){return this.state.password.length>0?passwordValid(this.state.password)?"success":"error":void 0},validationPasswordConfirmState:function(){return this.state.password_confirm.length>0||this.state.password.length>0?this.state.password_confirm===this.state.password?"success":"error":void 0},handleChange:function(){this.setState({password:this.refs.password.getValue(),password_confirm:this.refs.password_confirm.getValue()})},handleSubmit:function(e){return e.preventDefault(),this.state.password.length<1?void this.setState({messages:[{Type:"danger",Content:"Password is required."}]}):"success"!==this.validationPasswordState()||"success"!==this.validationPasswordConfirmState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void user.updatePassword(this.state.password,function(e,t){e===!0?this.setState({messages:t,password:"",password_confirm:""}):(this.setState({messages:t,password:this.state.password,password_confirm:this.state.password_confirm}),console.log(this.state.messages))}.bind(this))},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-3"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h1",{className:"page-header"},"Reset Password"),e,React.createElement(Input,{label:"New Password",type:"password",ref:"password",placeholder:"New password",value:this.state.password,autoFocus:!0,hasFeedback:!0,bsStyle:this.validationPasswordState(),onChange:this.handleChange}),React.createElement(Input,{label:"Confirm Password",type:"password",ref:"password_confirm",placeholder:"Confirm Password",value:this.state.password_confirm,hasFeedback:!0,bsStyle:this.validationPasswordConfirmState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},"Update Password")))}}),user={updatePassword:function(e,t){return callback=t,localStorage.id?e.length<1?void(callback&&callback(!1,["Password is required."])):void request.patch("/api/v1/user/"+localStorage.id,{password:e},this.processPatch):void(callback&&callback(!1))},processPatch:function(e){"success"==e.Result?callback&&callback(!0,[{Type:"success",Content:"Successfully updated password."}]):callback&&callback(!1,e.errors)}},settingsSideMenu={active:function(e){$(".nav-sidebar li a").removeClass("active");var t=$("."+e+"-link");t.addClass("active")}},SettingsHolder=React.createClass({displayName:"SettingsHolder",mixins:[AuthenticationMixin],render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-3 col-md-2 sidebar"},React.createElement("h1",null,"Settings"),React.createElement("ul",{className:"nav nav-sidebar"},React.createElement("li",null,React.createElement(Link,{to:"s_commands",className:"commands-link"},"Commands")),React.createElement("li",null,React.createElement(Link,{to:"s_contacts_list",className:"contacts-link"},"Contacts")),React.createElement("li",null,React.createElement(Link,{to:"s_servers",className:"servers-link"},"Servers")),React.createElement("li",null,React.createElement(Link,{to:"s_timeperiods",className:"timeperiods-link"},"Time Periods")))),React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},React.createElement(RouteHandler,null))))}}),SettingsCommands=React.createClass({displayName:"SettingsCommands",mixins:[AuthenticationMixin],componentDidMount:function(){settingsSideMenu.active("commands")},render:function(){return React.createElement("div",null,"Settings Commands...")}}),SettingsServers=React.createClass({displayName:"SettingsServers",mixins:[AuthenticationMixin],componentDidMount:function(){settingsSideMenu.active("servers")},render:function(){return React.createElement("div",null,"Settings Servers...")}}),SettingsTimePeriods=React.createClass({displayName:"SettingsTimePeriods",mixins:[AuthenticationMixin],componentDidMount:function(){settingsSideMenu.active("timeperiods")},render:function(){return React.createElement("div",null,"Settings Time Periods...")}}),SettingsContactsList=React.createClass({displayName:"SettingsContactsList",mixins:[AuthenticationMixin,SettingsContactsMixin],propTypes:{contacts:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{contacts:[],messages:[]}},componentWillMount:function(){contacts.getAll(function(e,t){this.setState({contacts:e,messages:t})}.bind(this))},removeContact:function(e){contacts.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({contacts:removeFromList(this.state.contacts,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.contacts.forEach(function(e){t.push(React.createElement(SettingsContactsLine,{key:e.id,contact:e,removeContact:this.removeContact}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Individuals"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Email"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_contacts_add",className:"btn btn-primary"},"Add Contact"))}}),SettingsContactsLine=React.createClass({displayName:"SettingsContactsLine",handleDelete:function(){this.props.removeContact(this.props.contact)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_contacts_view",params:{contactId:this.props.contact.id}},this.props.contact.name)),React.createElement("td",null,this.props.contact.user.email),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_contacts_update",params:{contactId:this.props.contact.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsContactsForm=React.createClass({displayName:"SettingsContactsForm",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{id:"",action:"Add",name:"",email:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("contacts"),void 0!=this.props.params.contactId){var e=this.props.params.contactId;this.setState({id:e,action:"Update"}),contacts.get(e,this.handleGet)}},handleGet:function(e,t){this.setState(t.length>0?{messages:t,name:"",email:""}:{messages:t,name:e.name,email:e.user.email})},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},validateEmailState:function(){return this.state.email.length>0?validateEmail(this.state.email)===!0?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue(),email:this.refs.email.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):this.state.email.length<1?void this.setState({messages:[{Type:"danger",Content:"Email is required."}]}):"success"!==this.validateNameState()||"success"!==this.validateEmailState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?contacts.update(this.state.id,this.state.name,this.state.email,this.handleFormResponse):contacts.add(this.state.name,this.state.email,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:"",email:""}:{messages:t,name:this.state.name,email:this.state.email})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Contact"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"Jane Smart",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Input,{label:"Email",type:"text",ref:"email",placeholder:"test@example.com",value:this.state.email,hasFeedback:!0,bsStyle:this.validateEmailState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Contact"),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Cancel")))}}),SettingsContactsView=React.createClass({displayName:"SettingsContactsView",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{contact:{},all_groups:[],current_groups:[],messages:[]}},componentDidMount:function(){settingsSideMenu.active("contacts"),contacts.getGroups(this.props.params.contactId,function(e,t){this.isMounted()&&(this.setState({contact:e,messages:t}),this.setGroups(e.groups.map(function(e){return this.renderGroup(e,"current")}.bind(this)),void 0))}.bind(this)),contactgroups.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setGroups(void 0,e.map(function(e){return this.renderGroup(e,"available")}.bind(this))))}.bind(this))},removeGroup:function(e){contactgroups.removeContact(e.id,this.props.params.contactId,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_groups,e),a=this.state.all_groups.concat(this.renderGroup(e,"available"));this.setGroups(t,a)},addGroup:function(e){contactgroups.addContact(e.id,this.props.params.contactId,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_groups.concat(this.renderGroup(e,"current")),a=removeFromListByKey(this.state.all_groups,e);this.setGroups(t,a)},renderGroup:function(e,t){return React.createElement(SettingsContactsGroupElement,{key:e.id,group:e,state:t,removeGroup:this.removeGroup,addGroup:this.addGroup})},setGroups:function(e,t){void 0===e&&(e=this.state.current_groups),void 0===t&&(t=this.state.all_groups),this.setState({all_groups:excludeByKey(t,e),current_groups:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.contact.name),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_groups))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Groups"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_groups)))),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Back to List of Contacts"))}}),SettingsContactsGroupElement=React.createClass({displayName:"SettingsContactsGroupElement",handleRemove:function(){this.props.removeGroup(this.props.group)},handleAdd:function(){this.props.addGroup(this.props.group)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.group.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.group.name),React.createElement("td",null,e))}}),SettingsContactsGroups=React.createClass({displayName:"SettingsContactsGroups",mixins:[AuthenticationMixin,SettingsContactsMixin],propTypes:{groups:React.PropTypes.array,messages:React.PropTypes.array},getInitialState:function(){return{groups:[],messages:[]}},componentWillMount:function(){contactgroups.getAll(function(e,t){this.setState({groups:e,messages:t})}.bind(this))},removeGroup:function(e){contactgroups.remove(e.id,function(e){this.setState({messages:e})}.bind(this)),this.setState({groups:removeFromList(this.state.groups,e)})},render:function(){var e=[];this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))});var t=[];return this.state.groups.forEach(function(e){t.push(React.createElement(SettingsContactsGroupLine,{key:e.id,group:e,removeGroup:this.removeGroup}))}.bind(this)),React.createElement("div",null,React.createElement("h2",null,"Groups"),e,React.createElement(Table,{striped:!0,hover:!0},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,"Name"),React.createElement("th",null,"Action"))),React.createElement("tbody",null,t)),React.createElement(Link,{to:"s_contacts_group_add",className:"btn btn-primary"},"Add Group"))}}),SettingsContactsGroupLine=React.createClass({displayName:"SettingsContactsGroupLine",handleDelete:function(){this.props.removeGroup(this.props.group)},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement(Link,{to:"s_contacts_group_contacts",params:{groupId:this.props.group.id}},this.props.group.name)),React.createElement("td",{className:"action-cell"},React.createElement(Button,{bsSize:"xsmall",bsStyle:"danger",onClick:this.handleDelete},"Delete"),React.createElement(Link,{to:"s_contacts_group_update",params:{groupId:this.props.group.id},className:"btn btn-xs btn-default"},"Edit")))}}),SettingsContactsGroupForm=React.createClass({displayName:"SettingsContactsGroupForm",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{id:"",action:"Add",name:"",messages:[]}},componentDidMount:function(){if(settingsSideMenu.active("contacts"),void 0!=this.props.params.groupId){var e=this.props.params.groupId;this.setState({id:e,action:"Update"}),contactgroups.get(e,this.handleGet)}},handleGet:function(e,t){this.setState(t.length>0?{messages:t,name:""}:{messages:t,name:e.name})},validateNameState:function(){return this.state.name.length>0?this.state.name.length>2?"success":"error":void 0},handleChange:function(){this.setState({name:this.refs.name.getValue()})},handleSubmit:function(){return event.preventDefault(),this.state.name.length<1?void this.setState({messages:[{Type:"danger",Content:"Name is required."}]}):"success"!==this.validateNameState()?void this.setState({messages:[{Type:"danger",Content:"Fix errors"}]}):void(""!=this.state.id?contactgroups.update(this.state.id,this.state.name,this.handleFormResponse):contactgroups.add(this.state.name,this.handleFormResponse))},handleFormResponse:function(e,t){this.setState(1==e?this.state.id?{messages:t}:{messages:t,name:""}:{messages:t,name:this.state.name})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",{className:"col-md-4"},React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("h2",{className:"page-header"},this.state.action," Contact Group"),e,React.createElement(Input,{label:"Name",type:"text",ref:"name",placeholder:"Admins",value:this.state.name,autoFocus:!0,hasFeedback:!0,bsStyle:this.validateNameState(),onChange:this.handleChange}),React.createElement(Button,{type:"submit",bsStyle:"success"},this.state.action," Contact Group"),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Cancel")))}}),SettingsContactsGroupContacts=React.createClass({displayName:"SettingsContactsGroupContacts",mixins:[AuthenticationMixin,SettingsContactsMixin],getInitialState:function(){return{group:{},messages:[],all_contacts:[],current_contacts:[]}},componentDidMount:function(){settingsSideMenu.active("contacts"),contactgroups.getContacts(this.props.params.groupId,function(e,t){this.isMounted()&&(this.setState({group:e,messages:t}),this.setContacts(e.contacts.map(function(e){return this.renderContact(e,"current")}.bind(this)),void 0))}.bind(this)),contacts.getAll(function(e,t){this.isMounted()&&(this.setState({messages:t}),this.setContacts(void 0,e.map(function(e){return this.renderContact(e,"available")}.bind(this))))}.bind(this))},removeContact:function(e){contactgroups.removeContact(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=removeFromListByKey(this.state.current_contacts,e),a=this.state.all_contacts.concat(this.renderContact(e,"available"));this.setContacts(t,a)},addContact:function(e){contactgroups.addContact(this.props.params.groupId,e.id,function(e,t){this.setState({messages:t})}.bind(this));var t=this.state.current_contacts.concat(this.renderContact(e,"current")),a=removeFromListByKey(this.state.all_contacts,e);this.setContacts(t,a)},renderContact:function(e,t){return React.createElement(SettingsContactsGroupContactLine,{key:e.id,contact:e,state:t,removeContact:this.removeContact,addContact:this.addContact})},setContacts:function(e,t){void 0===e&&(e=this.state.current_contacts),void 0===t&&(t=this.state.all_contacts),this.setState({all_contacts:excludeByKey(t,e),current_contacts:e})},render:function(){var e=[];return this.state.messages.forEach(function(t){e.push(React.createElement(Messages,{type:t.Type,message:t.Content}))}),React.createElement("div",null,e,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement("h2",null,this.state.group.name),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.current_contacts))),React.createElement("div",{className:"col-md-6"},React.createElement("h3",{className:"side-list-header"},"Available Contacts"),React.createElement("table",{className:"table table-striped table-condensed table-hover"},React.createElement("tbody",null,this.state.all_contacts)))),React.createElement(Link,{to:"s_contacts_list",className:"btn btn-default"},"Back to Contacts"))}}),SettingsContactsGroupContactLine=React.createClass({displayName:"SettingsContactsGroupContactLine",handleRemove:function(){this.props.removeContact(this.props.contact)},handleAdd:function(){this.props.addContact(this.props.contact)},render:function(){var e=[];return e.push("available"===this.props.state?React.createElement(Button,{key:this.props.contact.id,bsSize:"xsmall",bsStyle:"success",onClick:this.handleAdd},"Add"):React.createElement(Button,{key:this.props.contact.id,bsSize:"xsmall",bsStyle:"danger",onClick:this.handleRemove},"Remove")),React.createElement("tr",null,React.createElement("td",null,this.props.contact.name),React.createElement("td",null,e))}}),SettingsContactsMixin={componentDidMount:function(){settingsSideMenu.active("contacts")}},SettingsContactsHolder=React.createClass({displayName:"SettingsContactsHolder",mixins:[AuthenticationMixin,SettingsContactsMixin],render:function(){return React.createElement("div",null,React.createElement("h1",{className:"page-header"},"Contacts"),React.createElement(RouteHandler,null))}}),SettingsContacts=React.createClass({displayName:"SettingsContacts",mixins:[AuthenticationMixin,SettingsContactsMixin],render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-6"},React.createElement(SettingsContactsGroups,null)),React.createElement("div",{className:"col-md-6"},React.createElement(SettingsContactsList,null)))}}),contacts={get:function(e,t){request.get("/api/v1/contacts/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/contacts/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t,a){request.post("/api/v1/contacts/",{name:e,email:t},function(e){"success"==e.Result?a&&a(!0,[{Type:"success",Content:"Successfully added contact."}]):a&&a(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/contacts/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed contact."}]):t&&t(e.Messages)})},update:function(e,t,a,s){request.put("/api/v1/contacts/"+e,{name:t,email:a},function(e){"success"==e.Result?s&&s(!0,[{Type:"success",Content:"Successfully updated contact."}]):s&&s(!1,e.Messages)})},getGroups:function(e,t){request.get("/api/v1/contacts/"+e+"/groups/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})}},contactgroups={get:function(e,t){request.get("/api/v1/contacts/groups/"+e,function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},getAll:function(e){request.get("/api/v1/contacts/groups/",function(t){"success"===t.Result?e(t.Data,[]):e({data:[],errors:t.Messages})})},add:function(e,t){request.post("/api/v1/contacts/groups/",{name:e},function(e){"success"==e.Result?t&&t(!0,[{Type:"success",Content:"Successfully added contact group."}]):t&&t(!1,e.Messages)})},remove:function(e,t){request.remove("/api/v1/contacts/groups/"+e,function(e){"success"==e.Result?t&&t([{Type:"success",Content:"Successfully removed contact group."}]):t&&t(e.Messages)})},update:function(e,t,a){request.put("/api/v1/contacts/groups/"+e,{name:t},function(e){"success"==e.Result?a&&a(!0,[{Type:"success",Content:"Successfully updated contact group."}]):a&&a(!1,e.Messages)})},getContacts:function(e,t){request.get("/api/v1/contacts/groups/"+e+"/contacts/",function(e){"success"===e.Result?t(e.Data,[]):t([],e.Messages)})},addContact:function(e,t,a){request.post("/api/v1/contacts/groups/"+e+"/contacts/",{id:parseInt(t,10)},function(e){"success"==e.Result?a&&a(e.Data,[{Type:"success",Content:"Successfully added contact to group."}]):a&&a(!1,e.Messages)})},removeContact:function(e,t,a){request.remove("/api/v1/contacts/groups/"+e+"/contacts/"+t,function(e){"success"==e.Result?a&&a(e.Data,[{Type:"success",Content:"Successfully removed contact from group."}]):a&&a(!1,e.Messages)})}},Router=ReactRouter,Route=Router.Route,Link=Router.Link,RouteHandler=Router.RouteHandler,DefaultRoute=Router.DefaultRoute,Redirect=Router.Redirect,NotFoundRoute=Router.NotFoundRoute,Input=ReactBootstrap.Input,Button=ReactBootstrap.Button,Table=ReactBootstrap.Table,App=React.createClass({displayName:"App",getInitialState:function(){return{loggedIn:auth.loggedIn(),messages:[]}},setStateOnAuth:function(e,t){this.setState({loggedIn:e,messages:t})},componentWillMount:function(){auth.onChange=this.setStateOnAuth,auth.login()},render:function(){var e=ReactBootstrap.Navbar,t=ReactBootstrap.Nav,a=ReactBootstrap.NavItem;return accessLink=this.state.loggedIn?React.createElement(a,{href:"#/logout"},"Sign Out"):React.createElement(a,{href:"#/login"},"Sign In"),React.createElement("div",null,React.createElement(e,{brand:"ZenPager",fixedTop:!0,fluid:!0,inverse:!0},React.createElement(t,{right:!0},React.createElement(a,{href:"#/dashboard"},"Dashboard"),React.createElement(a,{href:"#/settings"},"Settings"),React.createElement(a,{href:"#/profile"},"Profile"),accessLink)),React.createElement(RouteHandler,{messages:this.state.messages}))}}),Messages=React.createClass({displayName:"Messages",getInitialState:function(){return{visible:!0}},handleDismiss:function(){this.setState({visible:!1})},render:function(){if(this.state.visible){var e=ReactBootstrap.Alert;return React.createElement(e,{bsStyle:this.props.type,onDismiss:this.handleDismiss},this.props.message)}return React.createElement("div",null)}}),NotFound=React.createClass({displayName:"NotFound",render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},React.createElement("h1",null,"404 Not Found"))))}}),routes=React.createElement(Route,{name:"app",path:"/",handler:App},React.createElement(NotFoundRoute,{handler:NotFound}),React.createElement(Route,{name:"login",handler:Login}),React.createElement(Route,{name:"logout",handler:Logout}),React.createElement(Route,{name:"dashboard",handler:DashboardHolder},React.createElement(Route,{name:"d_overview",path:"overview",handler:DashboardOverview}),React.createElement(Route,{name:"d_servers",path:"servers",handler:DashboardServers}),React.createElement(Route,{name:"d_apps",path:"apps",handler:DashboardApps}),React.createElement(Redirect,{from:"/dashboard",to:"d_overview"})),React.createElement(Route,{name:"settings",handler:SettingsHolder},React.createElement(Route,{name:"s_commands",path:"commands",handler:SettingsCommands}),React.createElement(Route,{name:"contacts",handler:SettingsContactsHolder},React.createElement(Route,{name:"s_contacts_list",path:"list",handler:SettingsContacts}),React.createElement(Route,{name:"s_contacts_add",path:"add",
handler:SettingsContactsForm}),React.createElement(Route,{name:"s_contacts_update",path:"update/:contactId",handler:SettingsContactsForm}),React.createElement(Route,{name:"s_contacts_view",path:":contactId",handler:SettingsContactsView}),React.createElement(Route,{name:"s_contacts_group_add",path:"group/add",handler:SettingsContactsGroupForm}),React.createElement(Route,{name:"s_contacts_group_update",path:"group/update/:groupId",handler:SettingsContactsGroupForm}),React.createElement(Route,{name:"s_contacts_group_contacts",path:"group/:groupId",handler:SettingsContactsGroupContacts}),React.createElement(Redirect,{from:"/contacts",to:"s_contacts_list"})),React.createElement(Route,{name:"s_servers",path:"servers",handler:SettingsServers}),React.createElement(Route,{name:"s_timeperiods",path:"timeperiods",handler:SettingsTimePeriods}),React.createElement(Redirect,{from:"/settings",to:"s_commands"})),React.createElement(Route,{name:"profile",handler:ProfileHolder},React.createElement(Route,{name:"p_password",path:"password",handler:ProfilePassword}),React.createElement(Redirect,{from:"/profile",to:"p_password"})),React.createElement(Redirect,{from:"/",to:"d_overview"}));Router.run(routes,function(e){React.render(React.createElement(e,null),document.body)});
//# sourceMappingURL=dashboard.min.js.map