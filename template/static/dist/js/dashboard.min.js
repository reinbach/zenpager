function authenticate(e,t,a){setTimeout(function(){a({authenticated:!0,token:Math.random().toString(36).substring(7)})},0)}var Authentication={statics:{willTransitionTo:function(e){var t=e.path;auth.loggedIn()||e.redirect("/login",{},{nextPath:t})}}},Login=React.createClass({displayName:"Login",contextTypes:{router:React.PropTypes.func.isRequired},getInitialState:function(){return{error:!1}},handleSubmit:function(e){e.preventDefault();var t=this.context,a=t.router,n=a.getCurrentQuery().nextPath,r=this.refs.email.getDOMNode().value,o=this.refs.password.getDOMNode().value;auth.login(r,o,function(e){return e?void a.replaceWith(n?n:"/"):this.setState({error:!0})}.bind(this))},render:function(){var e=this.state.error?React.createElement("p",null,"Bad Login Information"):"";return React.createElement("div",{className:"col-md-3 col-md-offset-3"},React.createElement("h1",null,"Sign In"),React.createElement("div",{className:"alert alert-danger"},e),React.createElement("form",{onSubmit:this.handleSubmit,className:"text-left"},React.createElement("div",{className:"form-group"},React.createElement("label",null,"Email Address"),React.createElement("input",{type:"email",className:"form-control",ref:"email",placeholder:"Enter email",value:this.props.email,autofocus:!0}),React.createElement("p",{className:"help-block"},this.props.email_errors)),React.createElement("div",{className:"form-group"},React.createElement("label",null,"Password"),React.createElement("input",{type:"password",className:"form-control",ref:"password",placeholder:"Password"}),React.createElement("p",{className:"help-block"},this.props.password_errors)),React.createElement("button",{type:"submit",className:"btn btn-default"},"Sign In")))}}),Logout=React.createClass({displayName:"Logout",componentDidMount:function(){auth.logout()},render:function(){return React.createElement("div",{className:"col-md-3 col-md-offset-3"},React.createElement("h1",null,"Signed Out"),React.createElement("p",null,"You are now signed out!"))}}),auth={login:function(e,t,a){return a=arguments[arguments.length-1],localStorage.token?(a&&a(!0),void this.onChange(!0)):void authenticate(e,t,function(e){e.authenticated?(localStorage.token=e.token,a&&a(!0),this.onChange(!0)):(a&&a(!1),this.onChange(!1))}.bind(this))},getToken:function(){return localStorage.token},logout:function(e){delete localStorage.token,e&&e(),this.onChange(!1)},loggedIn:function(){return!!localStorage.token},onChange:function(){}},Router=ReactRouter,Route=Router.Route,Link=Router.Link,RouteHandler=Router.RouteHandler,DefaultRoute=Router.DefaultRoute,NotFoundRoute=Router.NotFoundRoute,App=React.createClass({displayName:"App",getInitialState:function(){return{loggedIn:auth.loggedIn()}},setStateOnAuth:function(e){this.setState({loggedIn:e})},componentWillMount:function(){auth.onChange=this.setStateOnAuth,auth.login()},render:function(){var e=ReactBootstrap.Navbar,t=ReactBootstrap.Nav,a=ReactBootstrap.NavItem;return React.createElement("div",null,React.createElement(e,{brand:"ZenPager",fixedTop:!0,fluid:!0,inverse:!0},React.createElement(t,{right:!0},React.createElement(a,{href:"#"},"Dashboard"),React.createElement(a,{href:"#/settings"},"Settings"),React.createElement(a,{href:"#/profile"},"Profile"),React.createElement(a,{href:"#/logout"},"Sign Out"))),React.createElement(RouteHandler,null))}}),Messages=React.createClass({displayName:"Messages",render:function(){return React.createElement("div",{className:"alert alert-info"},this.props.message)}}),DashboardHolder=React.createClass({displayName:"DashboardHolder",mixins:[Authentication],render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-sm-3 col-md-2 sidebar"},React.createElement("ul",{className:"nav nav-sidebar"},React.createElement("li",null,React.createElement(Link,{to:"overview"},"Overview")),React.createElement("li",null,React.createElement(Link,{to:"servers"},"Servers")),React.createElement("li",null,React.createElement(Link,{to:"apps"},"Applications")))),React.createElement("div",{className:"col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main"},React.createElement(Messages,null),React.createElement(RouteHandler,null))))}}),DashboardOverview=React.createClass({displayName:"DashboardOverview",render:function(){return React.createElement("div",null,"Dashboard Overview...")}}),DashboardServers=React.createClass({displayName:"DashboardServers",render:function(){return React.createElement("div",null,"Dashboard Servers...")}}),DashboardApps=React.createClass({displayName:"DashboardApps",render:function(){return React.createElement("div",null,"Dashboard Apps...")}}),NotFound=React.createClass({displayName:"NotFound",render:function(){return React.createElement("div",{className:"inner cover"},React.createElement("h1",{className:"cover-heading"},"404 Not Found"))}}),routes=React.createElement(Route,{name:"app",path:"/",handler:App},React.createElement(Route,{name:"login",handler:Login}),React.createElement(Route,{name:"logout",handler:Logout}),React.createElement(Route,{name:"dashboard",handler:DashboardHolder},React.createElement(Route,{name:"overview",handler:DashboardOverview}),React.createElement(Route,{name:"servers",handler:DashboardServers}),React.createElement(Route,{name:"apps",handler:DashboardApps}),React.createElement(DefaultRoute,{handler:DashboardOverview})),React.createElement(NotFoundRoute,{handler:NotFound}),React.createElement(DefaultRoute,{handler:DashboardHolder}));Router.run(routes,function(e){React.render(React.createElement(e,null),document.body)});
//# sourceMappingURL=dashboard.min.js.map